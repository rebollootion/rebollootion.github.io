<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta tags -->
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			name="description"
			content="Rebollution - Contact us - Let's transform your technology"
		/>
		<meta
			name="keywords"
			content="contact, consulting, technology, rebollution"
		/>
		<meta name="author" content="Rebollution" />
		<title data-i18n="contact-page-title">Contact Us</title>

		<!-- Stylesheets -->
		<link rel="stylesheet" href="../assets/css/styles.css" />
		<link rel="stylesheet" href="../assets/css/header.css" />
		<link rel="stylesheet" href="../assets/css/pages.css" />
		<link rel="stylesheet" href="../assets/css/footer.css" />
	</head>

	<body>
		<!-- Header Component -->
		<div id="header-placeholder"></div>

		<!-- Main content -->
		<main class="subpage-main">
			<div class="container">
				<!-- Page header -->
				<div class="subpage-header">
					<h1 class="subpage-title" data-i18n="contact-page-title">
						Contact Us
					</h1>
					<p class="subpage-subtitle" data-i18n="contact-page-subtitle">
						Get in touch with our team. We respond within 24 hours.
					</p>
				</div>

				<!-- Contact container -->
				<div class="contact-container">
					<!-- Contact form -->
					<form class="contact-form" id="contactForm">
						<!-- Name field -->
						<div class="form-group">
							<label for="name" class="form-label" data-i18n="form-name"
								>Full Name</label
							>
							<input
								type="text"
								id="name"
								name="name"
								class="form-input"
								placeholder="Your full name"
								data-i18n-placeholder="form-name-placeholder"
								required
							/>
						</div>

						<!-- Email field -->
						<div class="form-group">
							<label for="email" class="form-label" data-i18n="form-email"
								>Email Address</label
							>
							<input
								type="email"
								id="email"
								name="email"
								class="form-input"
								placeholder="your.email@company.com"
								data-i18n-placeholder="form-email-placeholder"
								required
							/>
						</div>

						<!-- Company field -->
						<div class="form-group">
							<label for="company" class="form-label" data-i18n="form-company"
								>Company Name</label
							>
							<input
								type="text"
								id="company"
								name="company"
								class="form-input"
								placeholder="Your company"
								data-i18n-placeholder="form-company-placeholder"
							/>
						</div>

						<!-- Phone field -->
						<div class="form-group">
							<label for="phone" class="form-label" data-i18n="form-phone"
								>Phone Number</label
							>
							<input
								type="tel"
								id="phone"
								name="phone"
								class="form-input"
								placeholder="+34 123 456 789"
								data-i18n-placeholder="form-phone-placeholder"
							/>
						</div>

						<!-- Sector field -->
						<div class="form-group">
							<label for="sector" class="form-label" data-i18n="form-sector">
								Sector de interés
							</label>
							<select
								id="sector"
								name="sector"
								class="form-select"
								data-i18n-value="form-sector-select"
							>
								<option value="" data-i18n="form-sector-select">
									Selecciona un sector
								</option>

								<!-- Energía sostenible -->
								<option value="hydrogen" data-i18n="hydrogen-title">
									Hidrógeno
								</option>
								<option value="wind" data-i18n="wind-title">Eólica</option>
								<option value="solar" data-i18n="solar-title">
									Fotovoltaica
								</option>
								<option value="biomass" data-i18n="biomass-title">
									Biomasa
								</option>

								<!-- Electrónica avanzada -->
								<option value="robotics" data-i18n="robotics-title">
									Robótica
								</option>
								<option value="cybersecurity" data-i18n="cybersecurity-title">
									Ciberseguridad
								</option>
								<option value="automation" data-i18n="automation-title">
									Automatización
								</option>
								<option value="mobility" data-i18n="mobility-title">
									Movilidad
								</option>

								<!-- Opción genérica -->
								<option value="other" data-i18n="form-sector-other">
									Otro
								</option>
							</select>
						</div>

						<!-- Message field -->
						<div class="form-group">
							<label for="message" class="form-label" data-i18n="form-message"
								>Project Details</label
							>
							<textarea
								id="message"
								name="message"
								class="form-textarea"
								placeholder="Tell us about your project..."
								data-i18n-placeholder="form-message-placeholder"
								required
							></textarea>
						</div>

						<!-- Submit button -->
						<button
							type="submit"
							class="form-button"
							id="submitBtn"
							data-i18n="form-submit"
						>
							Send Message
						</button>

						<!-- Form messages -->
						<div
							id="formMessage"
							class="form-message"
							style="display: none"
						></div>
					</form>

					<!-- Contact information -->
					<div class="contact-info">
						<h3 data-i18n="contact-alternative-title">
							Prefer to contact us directly?
						</h3>
						<p data-i18n="contact-email-label">Email:</p>
						<p>
							<a href="mailto:contacto@rebollution.com"
								>contacto@rebollution.com</a
							>
						</p>
						<p data-i18n="contact-hours-label">Service Hours:</p>
						<p data-i18n="contact-hours">
							Monday - Friday: 9:00 AM - 6:00 PM (CET)
						</p>
						<p data-i18n="contact-response">
							Response time: Less than 24 hours
						</p>
					</div>
				</div>
			</div>
		</main>

		<!-- Footer Component -->
		<div id="footer-placeholder"></div>

		<!-- Scripts -->
		<script src="../assets/js/components.js"></script>
		<script src="../assets/js/script.js"></script>
		<script src="../assets/js/emailjs-config.js"></script>
		<script>
			// Form handling
			document
				.getElementById("contactForm")
				.addEventListener("submit", async (e) => {
					e.preventDefault();

					const submitBtn = document.getElementById("submitBtn");
					const formMessage = document.getElementById("formMessage");
					const originalText = submitBtn.getAttribute("data-i18n");

					submitBtn.disabled = true;
					submitBtn.textContent =
						submitBtn.getAttribute("data-i18n") || "Sending...";

					try {
						const formData = new FormData(e.target);
						const data = Object.fromEntries(formData);

						// Send email using EmailJS
						await emailjs.send(
							"service_YOUR_SERVICE_ID",
							"template_YOUR_TEMPLATE_ID",
							{
								from_name: data.name,
								from_email: data.email,
								company: data.company,
								phone: data.phone,
								sector: data.sector,
								project_type: data.projectType,
								budget: data.budget,
								message: data.message,
							}
						);

						// Success message
						formMessage.classList.remove("error");
						formMessage.classList.add("success");
						formMessage.textContent =
							"Message sent successfully! We will respond within 24 hours.";
						formMessage.style.display = "block";

						// Reset form
						e.target.reset();
					} catch (error) {
						// Error message
						formMessage.classList.remove("success");
						formMessage.classList.add("error");
						formMessage.textContent =
							"Failed to send message. Please try again or email us directly.";
						formMessage.style.display = "block";
					} finally {
						submitBtn.disabled = false;
						submitBtn.textContent = "Send Message";
					}
				});
		</script>
	</body>
</html>
